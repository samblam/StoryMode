import 'cookie';
import 'kleur/colors';
import './chunks/astro-designed-error-pages_CvTk2sHv.mjs';
import 'es-module-lexer';
import { h as decodeKey } from './chunks/astro/server_CkexDsn7.mjs';
import 'clsx';
import { N as NOOP_MIDDLEWARE_FN } from './chunks/noop-middleware_Cd25x6eI.mjs';

function sanitizeParams(params) {
  return Object.fromEntries(
    Object.entries(params).map(([key, value]) => {
      if (typeof value === "string") {
        return [key, value.normalize().replace(/#/g, "%23").replace(/\?/g, "%3F")];
      }
      return [key, value];
    })
  );
}
function getParameter(part, params) {
  if (part.spread) {
    return params[part.content.slice(3)] || "";
  }
  if (part.dynamic) {
    if (!params[part.content]) {
      throw new TypeError(`Missing parameter: ${part.content}`);
    }
    return params[part.content];
  }
  return part.content.normalize().replace(/\?/g, "%3F").replace(/#/g, "%23").replace(/%5B/g, "[").replace(/%5D/g, "]");
}
function getSegment(segment, params) {
  const segmentPath = segment.map((part) => getParameter(part, params)).join("");
  return segmentPath ? "/" + segmentPath : "";
}
function getRouteGenerator(segments, addTrailingSlash) {
  return (params) => {
    const sanitizedParams = sanitizeParams(params);
    let trailing = "";
    if (addTrailingSlash === "always" && segments.length) {
      trailing = "/";
    }
    const path = segments.map((segment) => getSegment(segment, sanitizedParams)).join("") + trailing;
    return path || "/";
  };
}

function deserializeRouteData(rawRouteData) {
  return {
    route: rawRouteData.route,
    type: rawRouteData.type,
    pattern: new RegExp(rawRouteData.pattern),
    params: rawRouteData.params,
    component: rawRouteData.component,
    generate: getRouteGenerator(rawRouteData.segments, rawRouteData._meta.trailingSlash),
    pathname: rawRouteData.pathname || void 0,
    segments: rawRouteData.segments,
    prerender: rawRouteData.prerender,
    redirect: rawRouteData.redirect,
    redirectRoute: rawRouteData.redirectRoute ? deserializeRouteData(rawRouteData.redirectRoute) : void 0,
    fallbackRoutes: rawRouteData.fallbackRoutes.map((fallback) => {
      return deserializeRouteData(fallback);
    }),
    isIndex: rawRouteData.isIndex,
    origin: rawRouteData.origin
  };
}

function deserializeManifest(serializedManifest) {
  const routes = [];
  for (const serializedRoute of serializedManifest.routes) {
    routes.push({
      ...serializedRoute,
      routeData: deserializeRouteData(serializedRoute.routeData)
    });
    const route = serializedRoute;
    route.routeData = deserializeRouteData(serializedRoute.routeData);
  }
  const assets = new Set(serializedManifest.assets);
  const componentMetadata = new Map(serializedManifest.componentMetadata);
  const inlinedScripts = new Map(serializedManifest.inlinedScripts);
  const clientDirectives = new Map(serializedManifest.clientDirectives);
  const serverIslandNameMap = new Map(serializedManifest.serverIslandNameMap);
  const key = decodeKey(serializedManifest.key);
  return {
    // in case user middleware exists, this no-op middleware will be reassigned (see plugin-ssr.ts)
    middleware() {
      return { onRequest: NOOP_MIDDLEWARE_FN };
    },
    ...serializedManifest,
    assets,
    componentMetadata,
    inlinedScripts,
    clientDirectives,
    routes,
    serverIslandNameMap,
    key
  };
}

const manifest = deserializeManifest({"hrefRoot":"file:///C:/Users/samue/repos/StoryMode/","adapterName":"@astrojs/vercel","routes":[{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"type":"page","component":"_server-islands.astro","params":["name"],"segments":[[{"content":"_server-islands","dynamic":false,"spread":false}],[{"content":"name","dynamic":true,"spread":false}]],"pattern":"^\\/_server-islands\\/([^/]+?)\\/?$","prerender":false,"isIndex":false,"fallbackRoutes":[],"route":"/_server-islands/[name]","origin":"internal","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"inline","content":"[data-astro-image]{width:100%;height:auto;-o-object-fit:var(--fit);object-fit:var(--fit);-o-object-position:var(--pos);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}\n"}],"routeData":{"type":"endpoint","isIndex":false,"route":"/_image","pattern":"^\\/_image\\/?$","segments":[[{"content":"_image","dynamic":false,"spread":false}]],"params":[],"component":"node_modules/astro/dist/assets/endpoint/generic.js","pathname":"/_image","prerender":false,"fallbackRoutes":[],"origin":"internal","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/about","isIndex":false,"type":"page","pattern":"^\\/about\\/?$","segments":[[{"content":"about","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/about.astro","pathname":"/about","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/admin-reset-password","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/admin-reset-password\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"admin-reset-password","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/admin-reset-password.ts","pathname":"/api/auth/admin-reset-password","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/create-user","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/create-user\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"create-user","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/create-user.ts","pathname":"/api/auth/create-user","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/login","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/login\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"login","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/login.ts","pathname":"/api/auth/login","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/logout","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/logout\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"logout","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/logout.ts","pathname":"/api/auth/logout","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/reset-password","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/reset-password\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"reset-password","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/reset-password.ts","pathname":"/api/auth/reset-password","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/send-reset-code","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/send-reset-code\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"send-reset-code","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/send-reset-code.ts","pathname":"/api/auth/send-reset-code","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/test-token","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/test-token\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"test-token","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/test-token.ts","pathname":"/api/auth/test-token","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/verify-reset-code","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/verify-reset-code\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"verify-reset-code","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/verify-reset-code.ts","pathname":"/api/auth/verify-reset-code","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/auth/verify-session","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/auth\\/verify-session\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"verify-session","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/auth/verify-session.ts","pathname":"/api/auth/verify-session","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/delete-sound","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/delete-sound\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"delete-sound","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/delete-sound.ts","pathname":"/api/delete-sound","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/send-email","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/send-email\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"send-email","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/send-email.ts","pathname":"/api/send-email","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/sound-profiles/[id]","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/sound-profiles\\/([^/]+?)\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"sound-profiles","dynamic":false,"spread":false}],[{"content":"id","dynamic":true,"spread":false}]],"params":["id"],"component":"src/pages/api/sound-profiles/[id].ts","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/sound-profiles","isIndex":true,"type":"endpoint","pattern":"^\\/api\\/sound-profiles\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"sound-profiles","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/sound-profiles/index.ts","pathname":"/api/sound-profiles","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/sounds/delete","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/sounds\\/delete\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"delete","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/sounds/delete.ts","pathname":"/api/sounds/delete","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/sounds/refresh-url","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/sounds\\/refresh-url\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"refresh-url","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/sounds/refresh-url.ts","pathname":"/api/sounds/refresh-url","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/sounds/upload","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/sounds\\/upload\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"upload","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/sounds/upload.ts","pathname":"/api/sounds/upload","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/test-connection","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/test-connection\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"test-connection","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/test-connection.ts","pathname":"/api/test-connection","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[],"routeData":{"route":"/api/upload-sound","isIndex":false,"type":"endpoint","pattern":"^\\/api\\/upload-sound\\/?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"upload-sound","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/api/upload-sound.ts","pathname":"/api/upload-sound","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/blog","isIndex":false,"type":"page","pattern":"^\\/blog\\/?$","segments":[[{"content":"blog","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/blog.astro","pathname":"/blog","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/contact","isIndex":false,"type":"page","pattern":"^\\/contact\\/?$","segments":[[{"content":"contact","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/contact.astro","pathname":"/contact","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/create-user","isIndex":false,"type":"page","pattern":"^\\/create-user\\/?$","segments":[[{"content":"create-user","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/create-user.astro","pathname":"/create-user","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/error","isIndex":false,"type":"page","pattern":"^\\/error\\/?$","segments":[[{"content":"error","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/error.astro","pathname":"/error","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/login","isIndex":false,"type":"page","pattern":"^\\/login\\/?$","segments":[[{"content":"login","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/login.astro","pathname":"/login","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/reset-password/confirm","isIndex":false,"type":"page","pattern":"^\\/reset-password\\/confirm\\/?$","segments":[[{"content":"reset-password","dynamic":false,"spread":false}],[{"content":"confirm","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/reset-password/confirm.astro","pathname":"/reset-password/confirm","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/reset-password/verify","isIndex":false,"type":"page","pattern":"^\\/reset-password\\/verify\\/?$","segments":[[{"content":"reset-password","dynamic":false,"spread":false}],[{"content":"verify","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/reset-password/verify.astro","pathname":"/reset-password/verify","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/reset-password","isIndex":true,"type":"page","pattern":"^\\/reset-password\\/?$","segments":[[{"content":"reset-password","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/reset-password/index.astro","pathname":"/reset-password","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/reset-password","isIndex":false,"type":"page","pattern":"^\\/reset-password\\/?$","segments":[[{"content":"reset-password","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/reset-password.astro","pathname":"/reset-password","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/sounds/profiles/new","isIndex":false,"type":"page","pattern":"^\\/sounds\\/profiles\\/new\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"profiles","dynamic":false,"spread":false}],[{"content":"new","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/sounds/profiles/new.astro","pathname":"/sounds/profiles/new","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/sounds/profiles/[id]/edit","isIndex":false,"type":"page","pattern":"^\\/sounds\\/profiles\\/([^/]+?)\\/edit\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"profiles","dynamic":false,"spread":false}],[{"content":"id","dynamic":true,"spread":false}],[{"content":"edit","dynamic":false,"spread":false}]],"params":["id"],"component":"src/pages/sounds/profiles/[id]/edit.astro","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"}],"routeData":{"route":"/sounds/profiles","isIndex":true,"type":"page","pattern":"^\\/sounds\\/profiles\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"profiles","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/sounds/profiles/index.astro","pathname":"/sounds/profiles","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/sounds/upload","isIndex":false,"type":"page","pattern":"^\\/sounds\\/upload\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}],[{"content":"upload","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/sounds/upload.astro","pathname":"/sounds/upload","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/sounds","isIndex":true,"type":"page","pattern":"^\\/sounds\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/sounds/index.astro","pathname":"/sounds","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"},{"type":"inline","content":".tab-button[data-astro-cid-ztl5yhde]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.tab-button[data-astro-cid-ztl5yhde]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.tab-button[data-astro-cid-ztl5yhde].active{border-bottom-width:2px;--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}\n"}],"routeData":{"route":"/sounds","isIndex":false,"type":"page","pattern":"^\\/sounds\\/?$","segments":[[{"content":"sounds","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/sounds.astro","pathname":"/sounds","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/works","isIndex":false,"type":"page","pattern":"^\\/works\\/?$","segments":[[{"content":"works","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/works.astro","pathname":"/works","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"styles":[{"type":"external","src":"/_astro/about.BHD5K-1j.css"},{"type":"external","src":"/_astro/about.Ccf7KluJ.css"}],"routeData":{"route":"/","isIndex":true,"type":"page","pattern":"^\\/$","segments":[],"params":[],"component":"src/pages/index.astro","pathname":"/","prerender":false,"fallbackRoutes":[],"distURL":[],"origin":"project","_meta":{"trailingSlash":"ignore"}}}],"base":"/","trailingSlash":"ignore","compressHTML":true,"componentMetadata":[["C:/Users/samue/repos/StoryMode/src/pages/about.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/blog.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/contact.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/create-user.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/error.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/index.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/login.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/reset-password.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/reset-password/confirm.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/reset-password/index.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/reset-password/verify.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/sounds.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/sounds/index.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/sounds/profiles/[id]/edit.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/sounds/profiles/new.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/sounds/upload.astro",{"propagation":"none","containsHead":true}],["C:/Users/samue/repos/StoryMode/src/pages/works.astro",{"propagation":"none","containsHead":true}]],"renderers":[],"clientDirectives":[["idle","(()=>{var l=(n,t)=>{let i=async()=>{await(await n())()},e=typeof t.value==\"object\"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};\"requestIdleCallback\"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event(\"astro:idle\"));})();"],["load","(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event(\"astro:load\"));})();"],["media","(()=>{var n=(a,t)=>{let i=async()=>{await(await a())()};if(t.value){let e=matchMedia(t.value);e.matches?i():e.addEventListener(\"change\",i,{once:!0})}};(self.Astro||(self.Astro={})).media=n;window.dispatchEvent(new Event(\"astro:media\"));})();"],["only","(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event(\"astro:only\"));})();"],["visible","(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value==\"object\"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event(\"astro:visible\"));})();"]],"entryModules":{"\u0000@astrojs-ssr-adapter":"_@astrojs-ssr-adapter.mjs","\u0000@astro-renderers":"renderers.mjs","\u0000astro-internal:middleware":"_astro-internal_middleware.mjs","\u0000@astro-page:src/pages/about@_@astro":"pages/about.astro.mjs","\u0000@astro-page:src/pages/api/auth/admin-reset-password@_@ts":"pages/api/auth/admin-reset-password.astro.mjs","\u0000@astro-page:src/pages/api/auth/create-user@_@ts":"pages/api/auth/create-user.astro.mjs","\u0000@astro-page:src/pages/api/auth/login@_@ts":"pages/api/auth/login.astro.mjs","\u0000@astro-page:src/pages/api/auth/logout@_@ts":"pages/api/auth/logout.astro.mjs","\u0000@astro-page:src/pages/api/auth/reset-password@_@ts":"pages/api/auth/reset-password.astro.mjs","\u0000@astro-page:src/pages/api/auth/send-reset-code@_@ts":"pages/api/auth/send-reset-code.astro.mjs","\u0000@astro-page:src/pages/api/auth/test-token@_@ts":"pages/api/auth/test-token.astro.mjs","\u0000@astro-page:src/pages/api/auth/verify-reset-code@_@ts":"pages/api/auth/verify-reset-code.astro.mjs","\u0000@astro-page:src/pages/api/auth/verify-session@_@ts":"pages/api/auth/verify-session.astro.mjs","\u0000@astro-page:src/pages/api/delete-sound@_@ts":"pages/api/delete-sound.astro.mjs","\u0000@astro-page:src/pages/api/send-email@_@ts":"pages/api/send-email.astro.mjs","\u0000@astro-page:src/pages/api/sound-profiles/[id]@_@ts":"pages/api/sound-profiles/_id_.astro.mjs","\u0000@astro-page:src/pages/api/sound-profiles/index@_@ts":"pages/api/sound-profiles.astro.mjs","\u0000@astro-page:src/pages/api/sounds/delete@_@ts":"pages/api/sounds/delete.astro.mjs","\u0000@astro-page:src/pages/api/sounds/refresh-url@_@ts":"pages/api/sounds/refresh-url.astro.mjs","\u0000@astro-page:src/pages/api/sounds/upload@_@ts":"pages/api/sounds/upload.astro.mjs","\u0000@astro-page:src/pages/api/test-connection@_@ts":"pages/api/test-connection.astro.mjs","\u0000@astro-page:src/pages/api/upload-sound@_@ts":"pages/api/upload-sound.astro.mjs","\u0000@astro-page:src/pages/error@_@astro":"pages/error.astro.mjs","\u0000@astro-page:src/pages/reset-password/confirm@_@astro":"pages/reset-password/confirm.astro.mjs","\u0000@astro-page:src/pages/reset-password/verify@_@astro":"pages/reset-password/verify.astro.mjs","\u0000@astro-page:src/pages/reset-password/index@_@astro":"pages/reset-password.astro.mjs","\u0000@astro-page:src/pages/reset-password@_@astro":"pages/reset-password.astro2.mjs","\u0000@astro-page:src/pages/sounds/profiles/new@_@astro":"pages/sounds/profiles/new.astro.mjs","\u0000@astro-page:src/pages/sounds/profiles/[id]/edit@_@astro":"pages/sounds/profiles/_id_/edit.astro.mjs","\u0000@astro-page:src/pages/sounds/profiles/index@_@astro":"pages/sounds/profiles.astro.mjs","\u0000@astro-page:src/pages/index@_@astro":"pages/index.astro.mjs","\u0000@astrojs-ssr-virtual-entry":"entry.mjs","\u0000@astro-page:src/pages/blog@_@astro":"pages/blog.astro.mjs","\u0000@astro-page:src/pages/contact@_@astro":"pages/contact.astro.mjs","\u0000@astro-page:src/pages/create-user@_@astro":"pages/create-user.astro.mjs","\u0000@astro-page:src/pages/login@_@astro":"pages/login.astro.mjs","\u0000@astro-page:src/pages/sounds/upload@_@astro":"pages/sounds/upload.astro.mjs","\u0000@astro-page:src/pages/sounds/index@_@astro":"pages/sounds.astro.mjs","\u0000@astro-page:src/pages/works@_@astro":"pages/works.astro.mjs","\u0000@astro-page:src/pages/sounds@_@astro":"pages/sounds.astro2.mjs","\u0000@astro-page:node_modules/astro/dist/assets/endpoint/generic@_@js":"pages/_image.astro.mjs","C:/Users/samue/repos/StoryMode/src/lib/supabase.ts":"chunks/supabase_D4M8dM3h.mjs","C:/Users/samue/repos/StoryMode/node_modules/astro/dist/assets/services/sharp.js":"chunks/sharp_SfhyHZHQ.mjs","\u0000@astrojs-manifest":"manifest_B3POKMET.mjs","C:/Users/samue/repos/StoryMode/src/pages/error.astro?astro&type=script&index=0&lang.ts":"_astro/error.astro_astro_type_script_index_0_lang.WqMVLMU0.js","C:/Users/samue/repos/StoryMode/src/pages/reset-password/confirm.astro?astro&type=script&index=0&lang.ts":"_astro/confirm.astro_astro_type_script_index_0_lang.C7a4G0bX.js","C:/Users/samue/repos/StoryMode/src/pages/reset-password/verify.astro?astro&type=script&index=0&lang.ts":"_astro/verify.astro_astro_type_script_index_0_lang.CbVAL9Qf.js","C:/Users/samue/repos/StoryMode/src/pages/reset-password/index.astro?astro&type=script&index=0&lang.ts":"_astro/index.astro_astro_type_script_index_0_lang.BdK6OhXj.js","C:/Users/samue/repos/StoryMode/src/pages/reset-password.astro?astro&type=script&index=0&lang.ts":"_astro/reset-password.astro_astro_type_script_index_0_lang.BdK6OhXj.js","C:/Users/samue/repos/StoryMode/src/pages/sounds/profiles/index.astro?astro&type=script&index=0&lang.ts":"_astro/index.astro_astro_type_script_index_0_lang.B19p42tw.js","C:/Users/samue/repos/StoryMode/src/pages/sounds.astro?astro&type=script&index=0&lang.ts":"_astro/sounds.astro_astro_type_script_index_0_lang.DZBLGtry.js","C:/Users/samue/repos/StoryMode/src/pages/index.astro?astro&type=script&index=0&lang.ts":"_astro/index.astro_astro_type_script_index_0_lang.B78pyheW.js","C:/Users/samue/repos/StoryMode/src/layouts/Layout.astro?astro&type=script&index=0&lang.ts":"_astro/Layout.astro_astro_type_script_index_0_lang.C3P-cHHX.js","C:/Users/samue/repos/StoryMode/src/components/UserCreationForm.astro?astro&type=script&index=0&lang.ts":"_astro/UserCreationForm.astro_astro_type_script_index_0_lang.BgjzZAGq.js","C:/Users/samue/repos/StoryMode/src/components/SoundUploader.astro?astro&type=script&index=0&lang.ts":"_astro/SoundUploader.astro_astro_type_script_index_0_lang.DcBHYpey.js","C:/Users/samue/repos/StoryMode/src/components/ProfileForm.astro?astro&type=script&index=0&lang.ts":"_astro/ProfileForm.astro_astro_type_script_index_0_lang.B-Or-Lhz.js","C:/Users/samue/repos/StoryMode/src/components/LoginForm.astro?astro&type=script&index=0&lang.ts":"_astro/LoginForm.astro_astro_type_script_index_0_lang.BuY-Qj2A.js","C:/Users/samue/repos/StoryMode/src/components/ContactForm.astro?astro&type=script&index=0&lang.ts":"_astro/ContactForm.astro_astro_type_script_index_0_lang.C2DdA8Yn.js","C:/Users/samue/repos/StoryMode/src/components/ProfileCard.astro?astro&type=script&index=0&lang.ts":"_astro/ProfileCard.astro_astro_type_script_index_0_lang.AePIM_bc.js","C:/Users/samue/repos/StoryMode/src/components/SoundProfile.astro?astro&type=script&index=0&lang.ts":"_astro/SoundProfile.astro_astro_type_script_index_0_lang.BjQmtfag.js","C:/Users/samue/repos/StoryMode/src/components/SoundList.astro?astro&type=script&index=0&lang.ts":"_astro/SoundList.astro_astro_type_script_index_0_lang.BCIwCnti.js","C:/Users/samue/repos/StoryMode/src/components/VolumeControl.astro?astro&type=script&index=0&lang.ts":"_astro/VolumeControl.astro_astro_type_script_index_0_lang.DUP42H33.js","C:/Users/samue/repos/StoryMode/src/components/AudioProgress.astro?astro&type=script&index=0&lang.ts":"_astro/AudioProgress.astro_astro_type_script_index_0_lang.CXW0QRI6.js","astro:scripts/before-hydration.js":""},"inlinedScripts":[["C:/Users/samue/repos/StoryMode/src/pages/error.astro?astro&type=script&index=0&lang.ts","document.getElementById(\"reload-page\")?.addEventListener(\"click\",()=>{window.location.reload()});"],["C:/Users/samue/repos/StoryMode/src/pages/reset-password/verify.astro?astro&type=script&index=0&lang.ts","const d=document.getElementById(\"verify-form\"),s=document.getElementById(\"form-status\"),r=s?.querySelector(\".success\"),n=s?.querySelector(\".error\"),m=document.getElementById(\"code\");m?.addEventListener(\"input\",i=>{const t=i.target;t.value=t.value.replace(/\\D/g,\"\").slice(0,6)});d?.addEventListener(\"submit\",async i=>{i.preventDefault(),s?.classList.add(\"hidden\"),r?.classList.add(\"hidden\"),n?.classList.add(\"hidden\");const t=d.querySelector('button[type=\"submit\"]');t.disabled=!0,t.textContent=\"Verifying...\";try{const e=new FormData(d),c=e.get(\"email\")?.toString(),a=e.get(\"code\")?.toString(),o=e.get(\"password\")?.toString(),l=e.get(\"confirmPassword\")?.toString();if(!c||!a||!o||!l)throw new Error(\"All fields are required\");if(!/^\\d{6}$/.test(a))throw new Error(\"Invalid reset code format\");if(o.length<8)throw new Error(\"Password must be at least 8 characters long\");if(o!==l)throw new Error(\"Passwords do not match\");const u=await fetch(\"/api/auth/verify-reset-code\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:c,code:a,password:o})}),f=await u.json();if(!u.ok)throw new Error(f.error||\"Failed to verify reset code\");s?.classList.remove(\"hidden\"),r?.classList.remove(\"hidden\"),r&&(r.textContent=\"Password reset successfully! Redirecting to login...\"),setTimeout(()=>{window.location.href=\"/login?message=\"+encodeURIComponent(\"Password reset successfully. Please login with your new password.\")},2e3)}catch(e){console.error(\"Verification error:\",e),s?.classList.remove(\"hidden\"),n?.classList.remove(\"hidden\"),n&&(n.textContent=e instanceof Error?e.message:\"Failed to verify reset code\")}finally{t.disabled=!1,t.textContent=\"Reset Password\"}});"],["C:/Users/samue/repos/StoryMode/src/pages/reset-password/index.astro?astro&type=script&index=0&lang.ts","const i=document.getElementById(\"reset-form\"),e=document.getElementById(\"form-status\"),o=e?.querySelector(\".success\"),r=e?.querySelector(\".error\");i?.addEventListener(\"submit\",async a=>{a.preventDefault(),e?.classList.add(\"hidden\"),o?.classList.add(\"hidden\"),r?.classList.add(\"hidden\");const t=i.querySelector('button[type=\"submit\"]');t.disabled=!0,t.textContent=\"Sending...\";try{const n=new FormData(i).get(\"email\")?.toString();if(!n)throw new Error(\"Email is required\");const d=await fetch(\"/api/auth/send-reset-code\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:n})}),c=await d.json();if(!d.ok)throw new Error(c.error||\"Failed to send reset code\");e?.classList.remove(\"hidden\"),o?.classList.remove(\"hidden\"),o&&(o.textContent=\"Reset code sent! Redirecting to verification page...\"),setTimeout(()=>{window.location.href=`/reset-password/verify?email=${encodeURIComponent(n)}`},2e3)}catch(s){console.error(\"Reset error:\",s),e?.classList.remove(\"hidden\"),r?.classList.remove(\"hidden\"),r&&(r.textContent=s instanceof Error?s.message:\"Failed to send reset code\")}finally{t.disabled=!1,t.textContent=\"Send Reset Code\"}});"],["C:/Users/samue/repos/StoryMode/src/pages/reset-password.astro?astro&type=script&index=0&lang.ts","const i=document.getElementById(\"reset-form\"),e=document.getElementById(\"form-status\"),o=e?.querySelector(\".success\"),r=e?.querySelector(\".error\");i?.addEventListener(\"submit\",async a=>{a.preventDefault(),e?.classList.add(\"hidden\"),o?.classList.add(\"hidden\"),r?.classList.add(\"hidden\");const t=i.querySelector('button[type=\"submit\"]');t.disabled=!0,t.textContent=\"Sending...\";try{const n=new FormData(i).get(\"email\")?.toString();if(!n)throw new Error(\"Email is required\");const d=await fetch(\"/api/auth/send-reset-code\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:n})}),c=await d.json();if(!d.ok)throw new Error(c.error||\"Failed to send reset code\");e?.classList.remove(\"hidden\"),o?.classList.remove(\"hidden\"),o&&(o.textContent=\"Reset code sent! Redirecting to verification page...\"),setTimeout(()=>{window.location.href=`/reset-password/verify?email=${encodeURIComponent(n)}`},2e3)}catch(s){console.error(\"Reset error:\",s),e?.classList.remove(\"hidden\"),r?.classList.remove(\"hidden\"),r&&(r.textContent=s instanceof Error?s.message:\"Failed to send reset code\")}finally{t.disabled=!1,t.textContent=\"Send Reset Code\"}});"],["C:/Users/samue/repos/StoryMode/src/pages/sounds/profiles/index.astro?astro&type=script&index=0&lang.ts","window.location.href=\"/sounds?tab=profiles\";"],["C:/Users/samue/repos/StoryMode/src/pages/sounds.astro?astro&type=script&index=0&lang.ts","function i(){const t=document.querySelectorAll(\".tab-button\"),a=document.querySelectorAll(\".tab-content\"),c=new URLSearchParams(window.location.search).get(\"tab\")||\"library\",n=s=>{t.forEach(e=>{e instanceof HTMLElement&&(e.dataset.tab===s?e.classList.add(\"active\"):e.classList.remove(\"active\"))}),a.forEach(e=>{e instanceof HTMLElement&&(e.dataset.content===s?e.classList.remove(\"hidden\"):e.classList.add(\"hidden\"))})};n(c),t.forEach(s=>{s.addEventListener(\"click\",()=>{if(!(s instanceof HTMLElement))return;const e=s.dataset.tab;if(!e)return;n(e);const o=new URL(window.location.href);o.searchParams.set(\"tab\",e),window.history.pushState({},\"\",o)})}),window.addEventListener(\"popstate\",()=>{const e=new URLSearchParams(window.location.search).get(\"tab\")||\"library\";n(e)})}function r(){document.querySelectorAll(\"#success-message, #error-message\").forEach(a=>{setTimeout(()=>{a.classList.add(\"opacity-0\",\"transition-opacity\",\"duration-500\"),setTimeout(()=>a.remove(),500)},5e3)})}document.addEventListener(\"DOMContentLoaded\",()=>{console.log(\"sounds.astro - DOMContentLoaded\"),i(),r();const t=document.getElementById(\"clientFilter\");t&&t.addEventListener(\"change\",()=>{const a=new URL(window.location.href);a.searchParams.set(\"client\",t.value),window.location.href=a.toString()})});"],["C:/Users/samue/repos/StoryMode/src/pages/index.astro?astro&type=script&index=0&lang.ts","const s=document.getElementById(\"test-db\"),t=document.getElementById(\"db-status\");s?.addEventListener(\"click\",async()=>{if(t)try{s.disabled=!0,t.textContent=\"Testing connection...\",t.classList.remove(\"hidden\",\"text-red-600\",\"text-green-600\"),t.classList.add(\"text-gray-600\");const e=await fetch(\"/api/test-connection\");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();if(n.success)t.textContent=\"Connection successful! Database is working.\",t.classList.remove(\"text-gray-600\"),t.classList.add(\"text-green-600\");else throw new Error(n.error||\"Connection failed\")}catch(e){console.error(\"Connection error:\",e),t.textContent=`Connection failed: ${e instanceof Error?e.message:\"Unknown error\"}`,t.classList.remove(\"text-gray-600\"),t.classList.add(\"text-red-600\")}finally{s.disabled=!1,t.classList.remove(\"hidden\")}});"],["C:/Users/samue/repos/StoryMode/src/layouts/Layout.astro?astro&type=script&index=0&lang.ts","let e=!1;document.getElementById(\"logout-button\")?.addEventListener(\"click\",async()=>{if(!e)try{e=!0,(await fetch(\"/api/auth/logout\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"})).ok?window.location.href=\"/login\":console.error(\"Logout failed\")}catch(o){console.error(\"Logout error:\",o)}finally{e=!1}});"],["C:/Users/samue/repos/StoryMode/src/components/UserCreationForm.astro?astro&type=script&index=0&lang.ts","const n=document.getElementById(\"user-creation-form\"),h=document.getElementById(\"role\"),u=document.getElementById(\"client-fields\"),o=document.getElementById(\"clientName\"),a=document.getElementById(\"companyName\"),r=document.getElementById(\"form-status\"),d=r?.querySelector(\".error\"),l=r?.querySelector(\".success\");h?.addEventListener(\"change\",()=>{h.value===\"client\"?(u.classList.remove(\"hidden\"),o.setAttribute(\"required\",\"true\"),a.setAttribute(\"required\",\"true\")):(u.classList.add(\"hidden\"),o.removeAttribute(\"required\"),a.removeAttribute(\"required\"),o.value=\"\",a.value=\"\")});n?.addEventListener(\"submit\",async y=>{y.preventDefault(),r.classList.add(\"hidden\"),d.classList.add(\"hidden\"),l.classList.add(\"hidden\");const s=n.querySelector('button[type=\"submit\"]');s.disabled=!0,s.textContent=\"Creating...\";try{const e=new FormData(n),i=e.get(\"email\")?.toString()||\"\",c=e.get(\"password\")?.toString()||\"\",t=e.get(\"role\")?.toString()||\"\",m=e.get(\"name\")?.toString()||\"\",f=e.get(\"company\")?.toString()||\"\";if(!i||!c||!t)throw new Error(\"Please fill in all required fields\");if(c.length<8)throw new Error(\"Password must be at least 8 characters long\");if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(i))throw new Error(\"Please enter a valid email address\");if(![\"admin\",\"client\"].includes(t))throw new Error(\"Invalid role selected\");if(t===\"client\"&&(!m||!f))throw new Error(\"Client name and company name are required for client accounts\");const w={email:i,password:c,role:t,...t===\"client\"&&{name:m,company:f}},g=await fetch(\"/api/auth/create-user\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(w)}),v=await g.json();if(!g.ok)throw new Error(v.error||\"Failed to create user\");r.classList.remove(\"hidden\"),l.classList.remove(\"hidden\"),l.textContent=\"User created successfully!\",n.reset(),u.classList.add(\"hidden\"),o.removeAttribute(\"required\"),a.removeAttribute(\"required\")}catch(e){console.error(\"User creation error:\",e),r.classList.remove(\"hidden\"),d.classList.remove(\"hidden\"),d.textContent=e instanceof Error?e.message:\"Failed to create user\"}finally{s.disabled=!1,s.textContent=\"Create User\"}});"],["C:/Users/samue/repos/StoryMode/src/components/SoundUploader.astro?astro&type=script&index=0&lang.ts","const s=document.getElementById(\"upload-form\"),f=s?.querySelector(\"#profileId\"),m=document.querySelector(\"#upload-progress div\"),y=document.querySelector(\"#upload-progress span\"),u=document.getElementById(\"upload-progress\"),c=t=>{if(!t)return\"Please select a sound file to upload\";const e=50*1024*1024;return t.type.startsWith(\"audio/\")?t.size>e?`File size (${(t.size/1048576).toFixed(2)}MB) exceeds the 50MB limit.`:null:`Invalid file type: ${t.type}. Please upload an audio file only.`};s?.addEventListener(\"submit\",async t=>{t.preventDefault();try{const e=new FormData(s),o=e.get(\"sound\"),i=f.selectedOptions[0]?.getAttribute(\"data-slug\");if(!i)throw new Error(\"Please select a sound profile\");e.append(\"profileSlug\",i),u.classList.remove(\"hidden\"),m.style.width=\"0%\",y.textContent=\"0%\";const l=c(o);if(l)throw new Error(l);const d=s.querySelector('button[type=\"submit\"]');d.disabled=!0,d.textContent=\"Uploading...\";const a=await fetch(\"/api/sounds/upload\",{method:\"POST\",credentials:\"include\",body:e}),p=await a.json();if(!a.ok)throw new Error(p.error||\"Upload failed\");window.location.href=`/sounds?success=${encodeURIComponent(\"Sound uploaded successfully!\")}`}catch(e){u.classList.add(\"hidden\");const o=e instanceof Error?e.message:\"Upload failed\";if(alert(o),console.error(\"Upload error:\",e),o.includes(\"Authentication\")||o.includes(\"Unauthorized\")){window.location.href=\"/login\";return}const r=s.querySelector('button[type=\"submit\"]');r.disabled=!1,r.textContent=\"Upload Sound\"}});const n=s?.querySelector(\"#sound\");n?.addEventListener(\"change\",()=>{const t=n.files?.[0];if(t){const e=c(t);e&&(n.value=\"\",alert(e))}});"],["C:/Users/samue/repos/StoryMode/src/components/ProfileForm.astro?astro&type=script&index=0&lang.ts","const n=document.getElementById(\"profile-form\"),s=document.getElementById(\"form-status\"),r=s?.querySelector(\".error\");n?.addEventListener(\"submit\",async a=>{if(a.preventDefault(),!s||!r)return;s.classList.add(\"hidden\"),r.classList.add(\"hidden\");const t=n.querySelector('button[type=\"submit\"]');t.disabled=!0;const d=t.textContent;t.textContent=\"Saving...\";try{const o=new FormData(n),e=Object.fromEntries(o);if(e.clientId||delete e.clientId,console.log(\"Submitting form data:\",e),!e.title||!e.description)throw new Error(\"Please fill in all required fields\");const i=await fetch(\"/api/sound-profiles\",{method:e.id?\"PUT\":\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});if(!i.ok){const l=await i.json();throw new Error(l.error||\"Failed to save profile\")}window.location.href=\"/sounds?success=\"+encodeURIComponent(e.id?\"Profile updated successfully\":\"Profile created successfully\")}catch(o){console.error(\"Profile save error:\",o),s.classList.remove(\"hidden\"),r.classList.remove(\"hidden\"),r.textContent=o instanceof Error?o.message:\"Failed to save profile\",t.disabled=!1,t.textContent=d}});"],["C:/Users/samue/repos/StoryMode/src/components/LoginForm.astro?astro&type=script&index=0&lang.ts","const o=document.getElementById(\"login-form\"),s=document.getElementById(\"form-status\"),n=s?.querySelector(\".error\");o?.addEventListener(\"submit\",async i=>{i.preventDefault(),s?.classList.add(\"hidden\"),n?.classList.add(\"hidden\");const t=o.querySelector('button[type=\"submit\"]');t.disabled=!0,t.textContent=\"Signing in...\";try{const e=new FormData(o),a=Object.fromEntries(e),r=await(await fetch(\"/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(a),credentials:\"include\"})).json();if(!r.success)throw new Error(r.error||\"Login failed\");window.location.href=\"/sounds\"}catch(e){console.error(\"Login error:\",e),s?.classList.remove(\"hidden\"),n?.classList.remove(\"hidden\"),n&&(n.textContent=e instanceof Error?e.message:\"Login failed\"),t.disabled=!1,t.textContent=\"Sign In\"}});"],["C:/Users/samue/repos/StoryMode/src/components/ContactForm.astro?astro&type=script&index=0&lang.ts","const n=document.getElementById(\"contact-form\"),r=document.getElementById(\"form-status\"),u=r?.querySelector(\".success\"),i=r?.querySelector(\".error\"),h=e=>!e.name||e.name.length<2?\"Name must be at least 2 characters long\":e.name.length>100?\"Name must not exceed 100 characters\":!e.email||!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e.email)?\"Please enter a valid email address (e.g., name@example.com)\":!e.message||e.message.length<10?\"Message must be at least 10 characters long\":e.message.length>1e3?\"Message must not exceed 1000 characters\":null,g=(e,s)=>{const t=document.getElementById(s);if(t){const o=e.maxLength-e.value.length;t.textContent=`${o} characters remaining`}},m=n.querySelector(\"#message\"),l=n.querySelector(\"#name\");m&&l&&(m.addEventListener(\"input\",()=>g(m,\"message-counter\")),l.addEventListener(\"input\",()=>g(l,\"name-counter\")));n?.addEventListener(\"submit\",async e=>{e.preventDefault(),r?.classList.add(\"hidden\"),u?.classList.add(\"hidden\"),i?.classList.add(\"hidden\");const s=n.querySelector('button[type=\"submit\"]');s.disabled=!0,s.textContent=\"Sending...\";try{const t=new FormData(n),o=Object.fromEntries(t),d=h(o);if(d)throw new Error(d);const a=await fetch(\"/api/send-email\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(o)}),c=await a.json();if(!a.ok)throw new Error(c.error||`HTTP error! status: ${a.status}`);if(c.success)r?.classList.remove(\"hidden\"),u?.classList.remove(\"hidden\"),n.reset();else throw new Error(c.error||\"Failed to send email\")}catch(t){console.error(\"Form submission error:\",t),r?.classList.remove(\"hidden\"),i?.classList.remove(\"hidden\"),t instanceof Error&&(i.textContent=t.message)}finally{s.disabled=!1,s.textContent=\"Send Message\"}});"],["C:/Users/samue/repos/StoryMode/src/components/SoundProfile.astro?astro&type=script&index=0&lang.ts","const s=new Set;document.querySelectorAll(\".download-all-button\").forEach(d=>{const e=d;e.addEventListener(\"click\",async()=>{if(e.hasAttribute(\"data-downloading\"))return;const n=JSON.parse(e.dataset.sounds||\"[]\");e.dataset.profileName?.toLowerCase().replace(/[^a-z0-9]/g,\"-\");const l=e.textContent||\"\";if(n.length===0){alert(\"No sounds available to download\");return}try{e.setAttribute(\"data-downloading\",\"true\"),e.disabled=!0;for(let t=0;t<n.length;t++){const o=n[t];if(!s.has(o.file))try{s.add(o.file),e.textContent=`Downloading ${t+1}/${n.length}`;const r=await fetch(o.file);if(!r.ok)throw new Error(`Failed to download ${o.name}`);const c=await r.blob(),i=window.URL.createObjectURL(c),a=document.createElement(\"a\");a.style.display=\"none\",a.href=i,a.download=`${o.name.toLowerCase().replace(/[^a-z0-9]/g,\"-\")}.mp3`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(i),document.body.removeChild(a),t<n.length-1&&await new Promise(u=>setTimeout(u,500))}catch(r){console.error(`Error downloading ${o.name}:`,r)}finally{s.delete(o.file)}}}catch(t){console.error(\"Download error:\",t),alert(\"Failed to download some sounds. Please try again.\")}finally{e.removeAttribute(\"data-downloading\"),e.disabled=!1,e.textContent=l,s.clear()}})});document.querySelectorAll(\".delete-profile\").forEach(d=>{const e=d;e.addEventListener(\"click\",async()=>{const n=e.dataset.profileId,l=parseInt(e.dataset.soundCount||\"0\");if(!n)return;const t=l>0?`This will delete the profile and ${l} associated sound${l!==1?\"s\":\"\"}. Are you sure?`:\"Are you sure you want to delete this profile?\";if(confirm(t))try{if(e.disabled=!0,!(await fetch(`/api/sound-profiles/${n}`,{method:\"DELETE\"})).ok)throw new Error(\"Failed to delete profile\");const r=new URLSearchParams(window.location.search).get(\"tab\")||\"library\";window.location.href=`/sounds?tab=${r}&success=Profile deleted successfully`}catch(o){console.error(\"Profile deletion error:\",o),alert(o instanceof Error?o.message:\"Failed to delete profile\"),e.disabled=!1}})});"]],"assets":["/_astro/about.BHD5K-1j.css","/_astro/about.Ccf7KluJ.css","/favicon.svg","/sounds/profiles.json","/sounds/sounds-data.json","/_astro/audioManager.NZJ33dCK.js","/_astro/AudioProgress.astro_astro_type_script_index_0_lang.CXW0QRI6.js","/_astro/browser.BVv6tk00.js","/_astro/confirm.astro_astro_type_script_index_0_lang.C7a4G0bX.js","/_astro/ProfileCard.astro_astro_type_script_index_0_lang.AePIM_bc.js","/_astro/SoundList.astro_astro_type_script_index_0_lang.BCIwCnti.js","/_astro/VolumeControl.astro_astro_type_script_index_0_lang.DUP42H33.js","/_astro/_commonjsHelpers.C4iS2aBk.js","/fonts/PPEditorialNew-Regular.woff2"],"buildFormat":"directory","checkOrigin":true,"serverIslandNameMap":[],"key":"1PmlnHSFbOCETxzwk6hrxcxnYvfGnsjamyDhVXRAtdQ="});
if (manifest.sessionConfig) manifest.sessionConfig.driverModule = null;

export { manifest };
